<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DoppelkopfUI: The Doppelkopf Interface (DKI)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DoppelkopfUI
   &#160;<span id="projectnumber">0.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__home_shelly_documents_repos_libdk_docs_dki.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">The Doppelkopf Interface (DKI) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md6">Principles</a></li>
<li class="level1"><a href="#autotoc_md7">Serialization</a></li>
<li class="level1"><a href="#autotoc_md8">Commands</a><ul><li class="level2"><a href="#autotoc_md9">Misc</a></li>
<li class="level2"><a href="#autotoc_md10">Setup</a></li>
<li class="level2"><a href="#autotoc_md11">In Game</a><ul><li class="level3"><a href="#autotoc_md12">Reservations</a></li>
<li class="level3"><a href="#autotoc_md13">Announcements</a></li>
<li class="level3"><a href="#autotoc_md14">Place card</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md15">Examples</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="autotoc_md6"></a>
Principles</h1>
<ul>
<li>The engine must only calculate when receiving a request</li>
<li>The engine must always be able to process commands (even whilst calculating)</li>
<li>No two requests should be unanswered at the same time</li>
<li>(Debug / Error / Warning) messages should be passed from the engine to the UI via the <code>log</code> command</li>
<li>The engine may (and should) keep track of state-information</li>
</ul>
<h1><a class="anchor" id="autotoc_md7"></a>
Serialization</h1>
<p>The exchange between the engine and the user interface is a series of <b>commands</b>. Each command takes the form <code>&lt;command&gt; &lt;arguments&gt;</code> where the command is one of the strings listed <a href="#Commands">below</a>. The arguments are a (possibly empty) series of strings where the elements are separated by at least one whitespace. The interpretation of the arguments is based on their position and the specified command. The end of the argument-list is denoted by a linebreak (CRLF and LF must both be handled equally by the engine and user interface).</p>
<p>It follows a list of argument-types and their serialization.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type </th><th class="markdownTableHeadNone">Serialization  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Boolean </td><td class="markdownTableBodyNone">Single character: <code>0</code> for <code>false</code> and <code>1</code> for <code>true</code>.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">String </td><td class="markdownTableBodyNone">A series of characters. A string may contain whitespaces and may be wrapped in quotes.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Card </td><td class="markdownTableBodyNone">The type: <code>&lt;C/S/H/D&gt;</code> (Clubs / Spades / Hearts / Diamonds) directly followed by the value: <code>&lt;A/K/Q/J/10/9&gt;</code> (Ace / King / Queen / Jack / Ten / Nine).<br  />
*E.g.: <code>H10</code> is the <b>ten of hearts</b> and <code>CQ</code> is the **queen of clubs***  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Arrays </td><td class="markdownTableBodyNone">An array is serialized as the values concatenated using <code>,</code> (no spaces).<br  />
*E.g.: <code>H10,CQ</code> denotes the Array **{ten of hearts, queen of clubs}***  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">State </td><td class="markdownTableBodyNone"><em>TODO</em>  </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md8"></a>
Commands</h1>
<p>&gt;todo explain syntax</p>
<h2><a class="anchor" id="autotoc_md9"></a>
Misc</h2>
<ul>
<li>**<code>log &lt;level&gt; &lt;message&gt;</code> [E&rarr;U]** &ndash; Tells the user interface to take note of the provided message<br  />
 <em>TODO: long description</em></li>
</ul>
<h2><a class="anchor" id="autotoc_md10"></a>
Setup</h2>
<ul>
<li>**<code>getsupportedrules</code> [U&rarr;E]** &ndash; Checks what rules are supported by the engine<br  />
 <em>TODO: long description</em></li>
<li>**<code>supportedrules &lt;str&gt;...</code> [E&rarr;U]** &ndash; Used by the engine to tell the user interface what rules it supports<br  />
 <em>TODO: long description</em></li>
<li>**<code>setrules &lt;key[=value]&gt;...</code> [U&rarr;E]** &ndash; Tell the engine with which rules to play<br  />
 <em>TODO: long description</em></li>
<li>**<code>ready?</code> [U&rarr;E]** &ndash; Used by the user interface to check if the engine is ready<br  />
 <em>TODO: long description</em></li>
<li>**<code>ready</code> [E&rarr;U]** &ndash; Used by the engine to tell the user interface that it is ready<br  />
 <em>TODO: long description</em></li>
<li>**<code>setstate</code> [U&rarr;E]** &ndash; Used by the user interface to tell the engine the cards on its hand and its id<br  />
 <em>TODO: long description</em></li>
</ul>
<h2><a class="anchor" id="autotoc_md11"></a>
In Game</h2>
<h3><a class="anchor" id="autotoc_md12"></a>
Reservations</h3>
<ul>
<li>**<code>reservations?</code> [U&rarr;E]** &ndash; The user interface will ask if the engine has any reservations to announce<br  />
 <em>TODO: long description</em></li>
<li>**<code>solo?</code> [U&rarr;E]** &ndash; The user interface checks if the engine wants to announce a solo<br  />
 <em>TODO: long description</em></li>
<li>**<code>pigglets?</code> [U&rarr;E]** &ndash; The user interface checks if the engine wants to announce pigglets<br  />
 <em>TODO: long description</em></li>
<li>**<code>wedding?</code> [U&rarr;E]** &ndash; The user interface checks if the engine wants to announce a wedding<br  />
 <em>TODO: long description</em></li>
</ul>
<h3><a class="anchor" id="autotoc_md13"></a>
Announcements</h3>
<ul>
<li>**<code>re/contra</code> [E&rarr;U]** &ndash; The engine announces re/contra, no 90, no 60, no 30, or black<br  />
 <em>TODO: long description</em></li>
<li>**<code>re/contra &lt;pid&gt;</code> [U&rarr;E]** &ndash; An engine has announced re/contra, no 90, no 60, no 30, or black<br  />
 <em>TODO: long description</em></li>
</ul>
<h3><a class="anchor" id="autotoc_md14"></a>
Place card</h3>
<ul>
<li>**<code>place &lt;card&gt;</code> [E&rarr;U]** &ndash; The engine places the mentioned card off its hand<br  />
 <em>TODO: long description</em></li>
<li>**<code>place &lt;pid&gt; &lt;card&gt;</code> [U&rarr;E]** &ndash; An engine has made its move<br  />
 <em>TODO: long description</em></li>
</ul>
<h1><a class="anchor" id="autotoc_md15"></a>
Examples</h1>
<blockquote class="doxtable">
<p>TODO </p>
</blockquote>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
